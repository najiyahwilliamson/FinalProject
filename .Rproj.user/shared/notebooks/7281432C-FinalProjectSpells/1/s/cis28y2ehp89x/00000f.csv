"0","# Reclassify categories"
"0","freq_cat <- freq_cat %>%"
"0","  mutate(Category_Group = case_when("
"0","    Spell.Category %in% c(""Charm"", ""Healing"") ~ ""Non-Dark Magic"","
"0","    Spell.Category %in% c(""Curse"", ""Jinx"") ~ ""Dark Magic"","
"0","    Spell.Category %in% c(""Transfiguration\nand Conjuring"", ""Other"") ~ ""Other"""
"0","  ))"
"0",""
"0","# Summarize counts by new group"
"0","freq_grouped <- freq_cat %>%"
"0","  group_by(Category_Group) %>%"
"0","  summarise(n = sum(n))"
"0",""
"0","# Plot"
"0","ggplot(freq_grouped, aes(x = Category_Group, y = n, fill = Category_Group)) +"
"0","  geom_bar(stat = ""identity"") +"
"0","  labs(title = ""Spells by Broader Type"","
"0","       x = NULL,"
"0","       y = ""Count"","
"0","       fill = ""Broader Spell Type"") +"
"0","  theme_minimal() +"
"0","  theme(axis.text.x = element_blank(),"
"0","        axis.ticks.x = element_blank())"
